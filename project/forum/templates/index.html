<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CRM Festas</title>
  {% load static %} 
  <link rel="stylesheet" href="{% static 'forum/style.css' %}">
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body data-section="clientes">
    <div class="container">
    <!-- side bar -->
    <aside class="sidebar">
      <div class="logo">
        <img src="{% static 'forum/img/logobranca.png' %}">
      </div>

      <nav class="menu">
        <a href="{% url 'home' %}" class="menu-item" data-section="home">
            <i data-lucide="home"></i>  <!-- escolhe o icone 'home' do site do lucide -->
          <span>Principal</span>
        </a>
        <a href="{% url 'contratos' %}" class="menu-item" data-section="contratos">
          <i data-lucide="file-text"></i>
          <span>Contratos</span>
        </a>
        <a href="{% url 'lista_clientes' %}" class="menu-item active" data-section="clientes">
          <i data-lucide="users"></i>
          <span>Clientes</span>
        </a>
          <a href="{% url 'listar_itens' %}" class="menu-item" data-section="itens">
          <i data-lucide="package"></i>
          <span>Itens</span>
          </a>
  
        <a href="{% url 'painel_financeiro' %}"  class="menu-item" data-section="financas">
          <i data-lucide="wallet"></i>
          <span>Financeiro</span>
        </a>
      </nav>

      <div class="logout">
        <a href="#">
          <i data-lucide="log-out"></i>
          <span>Sair</span>
        </a>
      </div>
    </aside>
    

    <main>
        <h1>Clientes</h1>
        <div class="titulo"> 
    </div>
    <section class="painel">
    <main class="main">
      <div class="filtros-container">
       <form method="get" class="filtros-container">
        <div class="campo">
          <label for="pesquisar" >Pesquisar</label>
          <div class="input-icon">
            <input type="text" id="pesquisar" placeholder="Pesquisar o cód, nome, categoria..." value="{{ request.GET.pesquisar }}" name="pesquisar">
          </div>
        </div>
 <div class="botoes">
    <button type="submit">aplicar</button>
    <button type="submit">limpar</button>
 </div>
    </main>
   <div class="tabela-clientes">
  <table>
    <thead>
      <tr>
        <th>Nome/Razão Social</th>
        <th>Telefone</th>
        <th>E-mail</th>
        <th>Situação</th>
      </tr>
    </thead>
    <tbody>
      {% for cliente in clientes %}
      <tr class="cliente-row" onclick="window.location.href='{% url 'contrato_cliente' cliente.id %}'">
        <td class="cliente-link">
          {{ cliente.nome }}
        </td>
        <td>{{ cliente.telefone }}</td>
        <td>{{ cliente.email }}</td>
        <td>Ativo</td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="4">Nenhum cliente encontrado.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <!-- Botão bem posicionado -->
  <div class="botoes">
   <button onclick="window.location.href='adicionar/'">Novo</button>
  </div>
</div>
  </div>

  <script>
    lucide.createIcons();
  </script>
</body>
</html>